:root {
  --timeline-expanded-gap: clamp(16px, 2.5vw, 32px);
  --timeline-year-track-height: 360px;
  --timeline-page-line-offset: clamp(38px, 5vw, 60px);
  --timeline-page-orb-size: clamp(18px, 2.6vw, 24px);
}

.timeline-page {
  padding: clamp(20px, 3vh, 80px) clamp(16px, 6vw, 64px) clamp(64px, 10vh, 120px);
  display: flex;
  justify-content: center;
  position: relative;
  min-height: 100vh;
  color: var(--color-text, #f5f6fa);
  background: var(--wy-gradient, #110013);
  overflow: hidden;
}

.timeline-page::before,
.timeline-page::after {
  content: "";
  position: absolute;
  pointer-events: none;
  z-index: 0;
}

.timeline-page::before {
  inset: -25% -20% auto;
  height: 65vh;
  background: radial-gradient(50% 65% at 18% 22%, rgba(255, 0, 120, 0.18), transparent 70%);
}

.timeline-page::after {
  inset: auto -30% -18% -18%;
  height: 75vh;
  background: radial-gradient(55% 50% at 72% 78%, rgba(60, 0, 90, 0.32), transparent 75%);
}

.timeline-page > * {
  position: relative;
  z-index: 1;
}

.timeline-page.interface-section {
  min-height: 100vh;
}

.timeline-page__content {
  width: min(1200px, 100%);
  margin: 0 auto;
  padding: clamp(24px, 3vw, 48px);
  display: grid;
  gap: clamp(24px, 3vw, 40px);
  position: relative;
  border-radius: clamp(20px, 3vw, 28px);
  background: linear-gradient(150deg, rgba(24, 0, 32, 0.88), rgba(10, 0, 18, 0.72));
  border: 1px solid rgba(255, 255, 255, 0.12);
  box-shadow: 0 26px 60px rgba(0, 0, 0, 0.52);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  overflow: hidden;
}

.timeline-page__content::before {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(85% 120% at 12% 18%, rgba(255, 0, 120, 0.18), transparent 70%);
  opacity: 0.9;
  pointer-events: none;
  z-index: -1;
}

.timeline-page__header {
  position: relative;
  display: grid;
  grid-template-columns: minmax(0, 1fr);
  gap: clamp(16px, 2vw, 28px);
  padding: clamp(18px, 2.4vw, 30px);
  border-radius: clamp(18px, 2.6vw, 24px);
  background: linear-gradient(160deg, rgba(26, 4, 32, 0.92), rgba(12, 0, 22, 0.74));
  border: 1px solid rgba(255, 255, 255, 0.12);
  box-shadow: 0 22px 48px rgba(0, 0, 0, 0.55);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
}

.timeline-page__identity {
  display: grid;
  grid-template-columns: auto 1fr;
  gap: clamp(12px, 1.8vw, 20px);
  align-items: center;
}

.timeline-page__avatar {
  width: clamp(82px, 6vw, 110px);
  height: clamp(82px, 6vw, 110px);
  border-radius: 22px;
  object-fit: cover;
  background: linear-gradient(160deg, rgba(255, 255, 255, 0.16), rgba(255, 255, 255, 0.04));
  border: 1px solid rgba(255, 255, 255, 0.16);
  box-shadow: 0 18px 44px rgba(12, 0, 32, 0.55);
}

.timeline-page__name {
  font-size: clamp(1.6rem, 2.8vw, 2.4rem);
  letter-spacing: -0.02em;
  font-family: var(--font-display, 'Outfit', 'Manrope', sans-serif);
  font-weight: 700;
}

.timeline-page__identity .timeline-page__years {
  font-size: clamp(0.9rem, 1.6vw, 1.05rem);
  color: rgba(255, 255, 255, 0.68);
}

.timeline-page__identity-text {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.timeline-page__actions {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 12px;
}

.timeline-page__stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: clamp(12px, 2vw, 20px);
}

.timeline-page__stat {
  background: linear-gradient(170deg, rgba(255, 255, 255, 0.06), rgba(255, 255, 255, 0.02));
  border: 1px solid rgba(255, 255, 255, 0.12);
  border-radius: clamp(16px, 2.4vw, 22px);
  padding: clamp(14px, 2vw, 20px);
  display: grid;
  gap: 6px;
  box-shadow: 0 18px 36px rgba(0, 0, 0, 0.45);
}

.timeline-page__stat dt {
  font-size: 0.8rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: rgba(255, 255, 255, 0.58);
}

.timeline-page__stat dd {
  font-size: clamp(1.25rem, 2.4vw, 1.8rem);
  font-weight: 600;
  margin: 0;
}

.timeline-page__filters {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  padding: clamp(12px, 2vw, 18px);
  border-radius: clamp(16px, 2.6vw, 22px);
  background: linear-gradient(160deg, rgba(22, 0, 32, 0.65), rgba(32, 0, 40, 0.42));
  border: 1px solid rgba(255, 255, 255, 0.12);
  box-shadow: 0 16px 40px rgba(0, 0, 0, 0.42);
}

.timeline-page__controls {
  display: flex;
  flex-wrap: wrap;
  gap: 16px;
  align-items: center;
  justify-content: space-between;
  padding: clamp(12px, 2vw, 18px);
  border-radius: clamp(16px, 2.6vw, 22px);
  background: linear-gradient(160deg, rgba(18, 0, 26, 0.55), rgba(40, 0, 38, 0.38));
  border: 1px solid rgba(255, 255, 255, 0.12);
  box-shadow: 0 16px 36px rgba(0, 0, 0, 0.4);
}

.timeline-page__year-nav {
  display: flex;
  flex: 1;
  min-width: 0;
  gap: 12px;
  overflow-x: auto;
  padding-bottom: 4px;
  scrollbar-width: thin;
}

.timeline-page__year-nav button {
  border: 1px solid rgba(255, 255, 255, 0.16);
  background: linear-gradient(160deg, rgba(16, 0, 24, 0.8), rgba(40, 0, 36, 0.6));
  border-radius: 12px;
  padding: 8px 16px;
  color: rgba(255, 255, 255, 0.82);
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease, color 0.2s ease;
  white-space: nowrap;
}

.timeline-page__year-nav button.is-active,
.timeline-page__year-nav button:focus-visible,
.timeline-page__year-nav button:hover {
  background: linear-gradient(140deg, rgba(255, 0, 110, 0.58), rgba(114, 0, 255, 0.42));
  box-shadow: 0 12px 28px rgba(255, 0, 120, 0.35);
  transform: translateY(-2px);
  color: #fff;
  outline: none;
}

.timeline-page__year-nav::-webkit-scrollbar {
  height: 6px;
}

.timeline-page__year-nav::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.18);
  border-radius: 999px;
}

section.timeline-page__years {
  position: relative;
  display: flex;
  flex-direction: column;
  gap: clamp(24px, 3vw, 40px);
  padding-left: calc(var(--timeline-page-line-offset) + clamp(34px, 4vw, 48px));
  scroll-behavior: smooth;
  width: 100%;
}

section.timeline-page__years::before {
  content: "";
  position: absolute;
  left: var(--timeline-page-line-offset);
  top: 0;
  bottom: 0;
  width: 2px;
  background: var(--timeline-line-color, linear-gradient(180deg, rgba(255, 0, 92, 0.6) 0%, rgba(197, 23, 255, 0.15) 100%));
  background-size: 100% 400%;
  background-position: 0 0;
  animation: timelineLineFlow 8s linear infinite;
  filter: drop-shadow(0 0 12px rgba(255, 0, 110, 0.4));
  pointer-events: none;
}

.timeline-year-block {
  position: relative;
  display: grid;
  gap: clamp(16px, 2vw, 24px);
  padding: clamp(22px, 2.6vw, 32px) clamp(22px, 2.6vw, 34px) clamp(28px, 3vw, 38px);
  background: linear-gradient(170deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.01));
  border-radius: clamp(22px, 3vw, 28px);
  border: 1px solid rgba(255, 255, 255, 0.12);
  box-shadow: 0 20px 45px rgba(0, 0, 0, 0.5);
  scroll-snap-align: start;
  transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
}

.timeline-year-block::before {
  content: "";
  position: absolute;
  left: var(--timeline-page-line-offset);
  top: clamp(22px, 3vw, 34px);
  width: var(--timeline-page-orb-size);
  height: var(--timeline-page-orb-size);
  border-radius: 50%;
  background: var(--timeline-orb, rgba(255, 30, 114, 0.65));
  box-shadow: 0 0 0 6px var(--timeline-orb-soft, rgba(255, 30, 114, 0.18)), 0 0 24px rgba(255, 30, 114, 0.42);
  transform: translateX(-50%);
  animation: timelineOrbPulse 4s ease-in-out infinite;
  pointer-events: none;
}

.timeline-year-block::after {
  content: "";
  position: absolute;
  left: var(--timeline-page-line-offset);
  top: calc(clamp(22px, 3vw, 34px) + var(--timeline-page-orb-size));
  bottom: -22px;
  width: 3px;
  background: linear-gradient(180deg, rgba(255, 44, 140, 0.65) 0%, rgba(255, 44, 140, 0.05) 100%);
  transform: translateX(-50%);
  pointer-events: none;
}

.timeline-year-block:last-child::after {
  opacity: 0;
}

.timeline-year-block:is(:hover, :focus-within) {
  transform: translateY(-4px);
  border-color: rgba(255, 255, 255, 0.24);
  box-shadow: 0 30px 70px rgba(255, 0, 120, 0.28);
}

.timeline-year-block.is-active {
  border-color: rgba(255, 255, 255, 0.28);
  box-shadow: 0 30px 70px rgba(255, 0, 120, 0.28);
}

.timeline-year-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
}

.timeline-year-title {
  font-size: clamp(1.6rem, 2.6vw, 2.2rem);
  letter-spacing: -0.02em;
  display: flex;
  align-items: baseline;
  gap: 12px;
  font-family: var(--font-display, 'Outfit', 'Manrope', sans-serif);
  font-weight: 700;
}

.timeline-year-count {
  font-size: 0.95rem;
  color: rgba(255, 255, 255, 0.6);
}

.timeline-year-actions {
  display: flex;
  gap: 12px;
  align-items: center;
  flex-wrap: wrap;
  justify-content: flex-end;
}

.timeline-year-toggle {
  border: 1px solid rgba(255, 255, 255, 0.16);
  background: linear-gradient(160deg, rgba(16, 0, 24, 0.82), rgba(40, 0, 36, 0.6));
  color: rgba(255, 255, 255, 0.85);
  border-radius: 999px;
  padding: 8px 18px;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  transition: background 0.2s ease, box-shadow 0.2s ease, transform 0.2s ease, color 0.2s ease;
}

.timeline-year-toggle:hover,
.timeline-year-toggle:focus-visible {
  background: linear-gradient(140deg, rgba(255, 0, 110, 0.6), rgba(114, 0, 255, 0.42));
  box-shadow: 0 12px 26px rgba(255, 0, 120, 0.32);
  transform: translateY(-2px);
  color: #fff;
  outline: none;
}

.timeline-year-track {
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: clamp(220px, 22vw, 260px);
  gap: clamp(16px, 2vw, 24px);
  overflow-x: auto;
  padding-bottom: 6px;
  scroll-snap-type: x mandatory;
}

.timeline-year-track::-webkit-scrollbar {
  height: 8px;
}

.timeline-year-track::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 999px;
}

.timeline-year-track .timeline-card {
  scroll-snap-align: start;
  min-height: var(--timeline-year-track-height);
}

.timeline-year-track .timeline-card__body {
  display: grid;
  gap: 8px;
}

.timeline-card__poster {
  width: 100%;
  flex: 1 1 auto;
  aspect-ratio: 2 / 3;
  border-radius: clamp(16px, 2vw, 20px);
  overflow: hidden;
  background: rgba(255, 255, 255, 0.08);
  box-shadow: 0 12px 32px rgba(0, 0, 0, 0.45);
}

.timeline-card__poster img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.timeline-card__role-label {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 0.9rem;
  color: rgba(255, 255, 255, 0.78);
}

.timeline-card__provider {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  color: rgba(255, 255, 255, 0.65);
  font-size: 0.85rem;
}

.timeline-card__provider img {
  width: 32px;
  height: 32px;
  object-fit: contain;
  filter: drop-shadow(0 6px 12px rgba(0, 0, 0, 0.45));
}

.timeline-year-block.is-collapsed .timeline-year-track {
  display: none;
}

.timeline-year-block.is-collapsed .timeline-year-toggle {
  background: rgba(255, 255, 255, 0.08);
  color: rgba(255, 255, 255, 0.78);
  border-color: rgba(255, 255, 255, 0.18);
}

.timeline-year-block.is-collapsed .timeline-year-actions::after {
  content: "Ano compactado";
  font-size: 0.85rem;
  color: rgba(255, 255, 255, 0.6);
  font-weight: 500;
  margin-left: 8px;
}

.timeline-page__content[data-empty="true"]::after {
  content: "Nenhum item encontrado para o filtro selecionado.";
  padding: 32px;
  border-radius: 24px;
  background: rgba(255, 255, 255, 0.08);
  text-align: center;
}

@media (max-width: 1024px) {
  .timeline-page {
    padding: 120px 16px 80px;
  }

  .timeline-year-track {
    grid-auto-columns: clamp(180px, 65vw, 220px);
  }
}

@media (max-width: 640px) {
  .timeline-page__actions {
    grid-template-columns: 1fr;
  }

  .timeline-page__stats {
    grid-template-columns: 1fr;
  }

  .timeline-page__filters {
    flex-direction: column;
  }

  .timeline-page__controls {
    flex-direction: column;
    align-items: stretch;
    gap: 12px;
  }

  .timeline-page__year-nav {
    width: 100%;
    flex-wrap: nowrap;
    overflow-x: auto;
    overflow-y: hidden;
    padding-right: 0;
  }

  .timeline-page__year-nav button {
    flex: 0 0 auto;
  }

  .timeline-page__controls .action-btn {
    width: 100%;
    justify-content: center;
  }

  .timeline-year-head {
    flex-direction: column;
    align-items: flex-start;
  }

  .timeline-year-actions {
    align-self: stretch;
    width: 100%;
    justify-content: space-between;
  }

  .timeline-year-toggle {
    flex: 1;
    justify-content: center;
  }
}
